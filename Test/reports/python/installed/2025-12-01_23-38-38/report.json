{
  "timestamp": "2025-12-01T23:38:38.812570",
  "mode": "installed",
  "language": "python",
  "version": "0.3.2",
  "location": "D:\\anaconda3\\Lib\\site-packages",
  "total_duration": 484.04,
  "summary": {
    "passed": 14,
    "failed": 2,
    "errors": 0,
    "skipped": 0
  },
  "results": [
    {
      "name": "01_single_annotation",
      "status": "passed",
      "returncode": 0,
      "duration": 14.86,
      "stdout": "Console output logging enabled: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\01_single_annotation\\results\\python\\development\\20251201_233040\\logs\\test_log.txt\n\n============================================================\n  CASSIA TEST: 01 - Single Cluster Annotation (PIP INSTALL MODE)\n============================================================\n\nCASSIA Installation Info:\n  Version: 0.3.2\n  Location: D:\\anaconda3\\Lib\\site-packages\\CASSIA\\__init__.py\n  Is pip install: True\n\nConfiguration:\n  Provider: openrouter\n  Model: google/gemini-2.5-flash-lite\n  Tissue: large intestine\n  Species: human\n\nTesting single annotation for: plasma cell\nUsing top 30 markers\nLoaded 30 markers\nResults will be saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\01_single_annotation\\results\\python\\development\\20251201_233040\n\nRunning runCASSIA (pip install mode)...\n\nAnnotation Result:\n  Main cell type: Plasma Cells\n  Sub cell types: ['IgA-producing Plasma Cells', 'IgG-producing Plasma Cells', 'IgM-producing Plasma Cells']\n\n[OK] Test PASSED\n    Duration: 8.40s\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\01_single_annotation\\results\\python\\development\\20251201_233040\\logs\\test_log.txt\n",
      "stderr": ""
    },
    {
      "name": "02_batch_annotation",
      "status": "passed",
      "returncode": 0,
      "duration": 42.16,
      "stdout": "ch Analysis \u2827\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591] 50%\n\u001b[KCompleted: 1 | Processing: 1 | Pending: 0\n\u001b[KActive: monocyte\n\u001b[4A\u001b[KCASSIA Batch Analysis \u2807\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591] 50%\n\u001b[KCompleted: 1 | Processing: 1 | Pending: 0\n\u001b[KActive: monocyte\n\u001b[4A\u001b[KCASSIA Batch Analysis \u280f\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591] 50%\n\u001b[KCompleted: 1 | Processing: 1 | Pending: 0\n\u001b[KActive: monocyte\n\u001b[4A\u001b[KCASSIA Batch Analysis \u2713\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588] 100%\n\u001b[KCompleted: 2 | Processing: 0 | Pending: 0\n\u001b[KActive: None\n\u001b[4A\u001b[KCASSIA Batch Analysis \u2713\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588] 100%\n\u001b[KCompleted: 2 | Processing: 0 | Pending: 0\n\u001b[KActive: None\n\u001b[K\n\u001b[?25hAll analyses completed. Results saved to 'C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\02_batch_annotation\\results\\python\\development\\20251201_233055\\outputs\\batch_results'.\nHTML report generated: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\02_batch_annotation\\results\\python\\development\\20251201_233055\\outputs\\batch_results_report.html\nThree files have been created:\n1. C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\02_batch_annotation\\results\\python\\development\\20251201_233055\\outputs\\batch_results_full.csv (full data CSV)\n2. C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\02_batch_annotation\\results\\python\\development\\20251201_233055\\outputs\\batch_results_summary.csv (summary data CSV)\n3. C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\02_batch_annotation\\results\\python\\development\\20251201_233055\\outputs\\batch_results_report.html (interactive HTML report)\n\nBatch Results:\n  Clusters annotated: 2/2\n  Output files created:\n    - batch_results_full.csv\n    - batch_results_summary.csv\n\n[OK] Test PASSED\n    Duration: 35.99s\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\02_batch_annotation\\results\\python\\development\\20251201_233055\\logs\\test_log.txt\n",
      "stderr": ""
    },
    {
      "name": "03_validator_comparison",
      "status": "passed",
      "returncode": 0,
      "duration": 55.59,
      "stdout": "0%\n\u001b[KCompleted: 1 | Processing: 1 | Pending: 0\n\u001b[KActive: monocyte\n\u001b[4A\u001b[KCASSIA Batch Analysis \u2834\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591] 50%\n\u001b[KCompleted: 1 | Processing: 1 | Pending: 0\n\u001b[KActive: monocyte\n\u001b[4A\u001b[KCASSIA Batch Analysis \u2826\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591] 50%\n\u001b[KCompleted: 1 | Processing: 1 | Pending: 0\n\u001b[KActive: monocyte\n\u001b[4A\u001b[KCASSIA Batch Analysis \u2713\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588] 100%\n\u001b[KCompleted: 2 | Processing: 0 | Pending: 0\n\u001b[KActive: None\n\u001b[4A\u001b[KCASSIA Batch Analysis \u2713\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588] 100%\n\u001b[KCompleted: 2 | Processing: 0 | Pending: 0\n\u001b[KActive: None\n\u001b[K\n\u001b[?25hAll analyses completed. Results saved to 'C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\03_validator_comparison\\results\\python\\development\\20251201_233136\\outputs\\results_v1'.\nHTML report generated: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\03_validator_comparison\\results\\python\\development\\20251201_233136\\outputs\\results_v1_report.html\nThree files have been created:\n1. C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\03_validator_comparison\\results\\python\\development\\20251201_233136\\outputs\\results_v1_full.csv (full data CSV)\n2. C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\03_validator_comparison\\results\\python\\development\\20251201_233136\\outputs\\results_v1_summary.csv (summary data CSV)\n3. C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\03_validator_comparison\\results\\python\\development\\20251201_233136\\outputs\\results_v1_report.html (interactive HTML report)\n  Annotated 2 clusters\n\n========================================\nComparison Results\n========================================\n  v0 (strict): 2 clusters\n  v1 (moderate): 2 clusters\n\n[OK] Test PASSED\n    Duration: 50.08s\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\03_validator_comparison\\results\\python\\development\\20251201_233136\\logs\\test_log.txt\n",
      "stderr": ""
    },
    {
      "name": "04_quality_scoring",
      "status": "passed",
      "returncode": 0,
      "duration": 40.17,
      "stdout": "Active: plasma cell, monocyte\n\u001b[4A\u001b[KCASSIA Batch Analysis \u280f\n\u001b[K[\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591] 0%\n\u001b[KCompleted: 0 | Processing: 2 | Pending: 0\n\u001b[KActive: plasma cell, monocyte\n\u001b[4A\u001b[KCASSIA Batch Analysis \u280b\n\u001b[K[\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591] 0%\n\u001b[KCompleted: 0 | Processing: 2 | Pending: 0\n\u001b[KActive: plasma cell, monocyte\n\u001b[4A\u001b[KCASSIA Batch Analysis \u2819\n\u001b[K[\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591] 0%\n\u001b[KCompleted: 0 | Processing: 2 | Pending: 0\n\u001b[KActive: plasma cell, monocyte\n\u001b[4A\u001b[KCASSIA Batch Analysis \u2839\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591] 50%\n\u001b[KCompleted: 1 | Processing: 1 | Pending: 0\n\u001b[KActive: plasma cell\n\u001b[4A\u001b[KCASSIA Batch Analysis \u2838\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591] 50%\n\u001b[KCompleted: 1 | Processing: 1 | Pending: 0\n\u001b[KActive: plasma cell\n\u001b[4A\u001b[KCASSIA Batch Analysis \u283c\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591] 50%\n\u001b[KCompleted: 1 | Processing: 1 | Pending: 0\n\u001b[KActive: plasma cell\n\u001b[4A\u001b[KCASSIA Batch Analysis \u2713\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588] 100%\n\u001b[KCompleted: 2 | Processing: 0 | Pending: 0\n\u001b[KActive: None\n\u001b[4A\u001b[KCASSIA Batch Analysis \u2713\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588] 100%\n\u001b[KCompleted: 2 | Processing: 0 | Pending: 0\n\u001b[KActive: None\n\u001b[K\n\u001b[?25hScoring completed. Results saved.\n\nSummary:\nTotal rows: 2\nSuccessfully scored: 2\nFailed/Skipped: 0\nHTML report generated: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\04_quality_scoring\\results\\python\\development\\20251201_233234\\outputs\\scored_results_report.html\nHTML report generated: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\04_quality_scoring\\results\\python\\development\\20251201_233234\\outputs\\scored_results_report.html\n\nScoring Results:\n  Clusters scored: 2\n  Average score: 95.0\n  Score range: 95 - 95\n\n[OK] Test PASSED\n    Duration: 4.38s\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\04_quality_scoring\\results\\python\\development\\20251201_233234\\logs\\test_log.txt\n",
      "stderr": ""
    },
    {
      "name": "05_model_settings",
      "status": "failed",
      "returncode": 1,
      "duration": 6.61,
      "stdout": "Console output logging enabled: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\05_model_settings\\results\\python\\development\\20251201_233313\\logs\\test_log.txt\n\n============================================================\n  CASSIA TEST: 05 - Model Settings (PIP INSTALL MODE)\n============================================================\n\nCASSIA Installation Info:\n  Version: 0.3.2\n  Is pip install: True\n\nConfiguration:\n  Provider: openrouter\n  Model: google/gemini-2.5-flash-lite\n  Tissue: large intestine\n  Species: human\nResults will be saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\05_model_settings\\results\\python\\development\\20251201_233313\n\n========================================\nTesting Tier Shortcuts\n========================================\n  [OK] 'best' + 'openai' -> 'gpt-5.1'\n  [OK] 'balanced' + 'openai' -> 'gpt-4o'\n  [OK] 'fast' + 'openai' -> 'gpt-5-mini'\n  [OK] 'best' + 'anthropic' -> 'claude-opus-4-5'\n  [OK] 'balanced' + 'anthropic' -> 'claude-sonnet-4-5'\n  [OK] 'fast' + 'anthropic' -> 'claude-haiku-4-5'\n  [OK] 'best' + 'openrouter' -> 'anthropic/claude-sonnet-4.5'\n  [OK] 'fast' + 'openrouter' -> 'google/gemini-2.5-flash'\n\nTier tests: 8/8 passed\n\n========================================\nTesting Practical Annotation with OpenRouter\n========================================\n  Model: google/gemini-2.5-flash\n  Provider: openrouter\n  Running annotation...\n  [X] ERROR: CASSIA Validation Error: Invalid type for marker list. Expected list of strings or comma-separated string, got DataFrame.\n  Parameter: marker_list\n  Received: 'DataFrame'\n\n[X] Test FAILED\n    Duration: 0.01s\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\05_model_settings\\results\\python\\development\\20251201_233313\\logs\\test_log.txt\n",
      "stderr": ""
    },
    {
      "name": "06_annotation_boost",
      "status": "passed",
      "returncode": 0,
      "duration": 30.56,
      "stdout": "\\06_annotation_boost\\results\\python\\development\\20251201_233319\\outputs\\batch_for_boost_full.csv (full data CSV)\n2. C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\06_annotation_boost\\results\\python\\development\\20251201_233319\\outputs\\batch_for_boost_summary.csv (summary data CSV)\n3. C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\06_annotation_boost\\results\\python\\development\\20251201_233319\\outputs\\batch_for_boost_report.html (interactive HTML report)\n\nTesting annotation boost for: plasma cell\n\nRunning annotation boost (pip install mode)...\n  Cluster: plasma cell\n  Model: google/gemini-2.5-flash-lite\n  Provider: openrouter\n  Max iterations: 3 (reduced for testing)\nUsing summarization agent to process conversation history for cluster plasma cell\nConversation history summarized using openrouter (8209 -> 1139 characters)\nUsing conversation history for cluster plasma cell (mode: final, 1139 characters)\nIteration 1 completed.\nIteration 2 completed.\nIteration 3 completed.\nRaw conversation text saved to C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\06_annotation_boost\\results\\python\\development\\20251201_233319\\outputs\\boost_plasma_cell_raw_conversation.txt\nRaw conversation text saved to C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\06_annotation_boost\\results\\python\\development\\20251201_233319\\outputs\\boost_plasma_cell_raw_conversation.txt\nError generating summary report: 400 Client Error: Bad Request for url: https://openrouter.ai/api/v1/chat/completions\nSummary report saved to C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\06_annotation_boost\\results\\python\\development\\20251201_233319\\outputs\\boost_plasma_cell_summary.html\n\nAnnotation Boost Results:\n  Status: success\n  Execution time: 10.2s\n\n[OK] Test PASSED\n    Duration: 10.21s\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\06_annotation_boost\\results\\python\\development\\20251201_233319\\logs\\test_log.txt\n",
      "stderr": "[CASSIA ERROR] API call to openrouter failed with model 'openrouter'. Error: 400 Client Error: Bad Request for url: https://openrouter.ai/api/v1/chat/completions\nERROR:CASSIA.CASSIA.core.llm_utils:API call to openrouter failed with model 'openrouter'. Error: 400 Client Error: Bad Request for url: https://openrouter.ai/api/v1/chat/completions\n"
    },
    {
      "name": "07_merging_annotation",
      "status": "passed",
      "returncode": 0,
      "duration": 21.05,
      "stdout": "ive: very_detailed, broad, detailed\n\u001b[4A\u001b[KAnnotation Merging \u2834\n\u001b[K[\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591] 0%\n\u001b[KCompleted: 0 | Processing: 3 | Pending: 0\n\u001b[KActive: very_detailed, broad, detailed\n\u001b[4A\u001b[KAnnotation Merging \u2826\n\u001b[K[\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591] 0%\n\u001b[KCompleted: 0 | Processing: 3 | Pending: 0\n\u001b[KActive: very_detailed, broad, detailed\n\u001b[4A\u001b[KAnnotation Merging \u2827\n\u001b[K[\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591] 0%\n\u001b[KCompleted: 0 | Processing: 3 | Pending: 0\n\u001b[KActive: very_detailed, broad, detailed\n\u001b[4A\u001b[KAnnotation Merging \u2807\n\u001b[K[\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591] 0%\n\u001b[KCompleted: 0 | Processing: 3 | Pending: 0\n\u001b[KActive: very_detailed, broad, detailed\n\u001b[4A\u001b[KAnnotation Merging \u280f\n\u001b[K[\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591] 0%\n\u001b[KCompleted: 0 | Processing: 3 | Pending: 0\n\u001b[KActive: very_detailed, broad, detailed\n\u001b[4A\u001b[KAnnotation Merging \u280b\n\u001b[K[\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591] 0%\n\u001b[KCompleted: 0 | Processing: 3 | Pending: 0\n\u001b[KActive: very_detailed, broad, detailed\n\u001b[4A\u001b[KAnnotation Merging \u2819\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591] 33%\n\u001b[KCompleted: 1 | Processing: 2 | Pending: 0\n\u001b[KActive: broad, detailed\n\u001b[4A\u001b[KAnnotation Merging \u2839\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591] 67%\n\u001b[KCompleted: 2 | Processing: 1 | Pending: 0\n\u001b[KActive: detailed\n\u001b[4A\u001b[KAnnotation Merging \u2838\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591] 67%\n\u001b[KCompleted: 2 | Processing: 1 | Pending: 0\n\u001b[KActive: detailed\n\u001b[4A\u001b[KAnnotation Merging \u2713\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588] 100%\n\u001b[KCompleted: 3 | Processing: 0 | Pending: 0\n\u001b[KActive: None\n\u001b[4A\u001b[KAnnotation Merging \u2713\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588] 100%\n\u001b[KCompleted: 3 | Processing: 0 | Pending: 0\n\u001b[KActive: None\n\u001b[K\n\u001b[?25h  All levels merge: SUCCESS\n  Output rows: 2\n\n[OK] Test PASSED\n    Duration: 1.80s\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\07_merging_annotation\\results\\python\\development\\20251201_233350\\logs\\test_log.txt\n",
      "stderr": ""
    },
    {
      "name": "08_uncertainty_quantification",
      "status": "passed",
      "returncode": 0,
      "duration": 69.1,
      "stdout": "[4A\u001b[KCASSIA Batch Analysis \u2713\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588] 100%\n\u001b[KCompleted: 2 | Processing: 0 | Pending: 0\n\u001b[KActive: None\n\u001b[4A\u001b[KCASSIA Batch Analysis \u2713\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588] 100%\n\u001b[KCompleted: 2 | Processing: 0 | Pending: 0\n\u001b[KActive: None\n\u001b[K\n\u001b[?25hAll analyses completed. Results saved to 'C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\08_uncertainty_quantification\\results\\python\\development\\20251201_233410\\outputs\\batch_results_2.json'.\nHTML report generated: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\08_uncertainty_quantification\\results\\python\\development\\20251201_233410\\outputs\\batch_results_2_report.html\nThree files have been created:\n1. C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\08_uncertainty_quantification\\results\\python\\development\\20251201_233410\\outputs\\batch_results_2_full.csv (full data CSV)\n2. C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\08_uncertainty_quantification\\results\\python\\development\\20251201_233410\\outputs\\batch_results_2_summary.csv (summary data CSV)\n3. C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\08_uncertainty_quantification\\results\\python\\development\\20251201_233410\\outputs\\batch_results_2_report.html (interactive HTML report)\nFinished batch run 2/2 in 46.03 seconds\nBatch run 2/2 completed and saved to C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\08_uncertainty_quantification\\results\\python\\development\\20251201_233410\\outputs\\batch_results_2.json\nAll 2 batch runs completed in 46.03 seconds\n\nBatch Results:\n  Files created: 4\n    - batch_results_1_full.csv\n    - batch_results_1_summary.csv\n    - batch_results_2_full.csv\n    - batch_results_2_summary.csv\n\n[OK] Batch test PASSED\n\n[OK] Test PASSED\n    Duration: 63.16s\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\08_uncertainty_quantification\\results\\python\\development\\20251201_233410\\logs\\test_log.txt\n",
      "stderr": ""
    },
    {
      "name": "09_subclustering",
      "status": "passed",
      "returncode": 0,
      "duration": 20.29,
      "stdout": "Console output logging enabled: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\09_subclustering\\results\\python\\development\\20251201_233521\\logs\\test_log.txt\n\n============================================================\n  CASSIA TEST: 09 - Subclustering (PIP INSTALL MODE)\n============================================================\n\nCASSIA Installation Info:\n  Version: 0.3.2\n  Is pip install: True\n\nConfiguration:\n  Provider: openrouter\n  Model: google/gemini-2.5-flash-lite\n  Tissue: large intestine\n  Species: human\nResults will be saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\09_subclustering\\results\\python\\development\\20251201_233521\n\n--- Test: runCASSIA_subclusters ---\n  Major cluster: human large intestine immune cells\n  Subclusters to annotate: 2\n  Model: google/gemini-2.5-flash-lite\n  Provider: openrouter\nUsing input dataframe directly as it appears to be pre-processed (2 columns)\nWarning: Could not extract results in expected format. Results type: <class 'list'>\nSaving raw results to C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\09_subclustering\\results\\python\\development\\20251201_233521\\outputs\\subcluster_results.csv.txt for inspection\nNo score column found in C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\09_subclustering\\results\\python\\development\\20251201_233521\\outputs\\subcluster_results.csv. Skipping.\n\nSubclustering Results:\n  Output file: subcluster_results.csv\n  Subclusters annotated: 1\n\n[OK] Test PASSED\n    Duration: 12.86s\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\09_subclustering\\results\\python\\development\\20251201_233521\\logs\\test_log.txt\n",
      "stderr": ""
    },
    {
      "name": "10_symphony_compare",
      "status": "passed",
      "returncode": 0,
      "duration": 44.09,
      "stdout": "odel configuration (config file not found or invalid)\n\n\ud83c\udfbc CASSIA Symphony Compare - Orchestrating 4 AI Models\n============================================================\n\ud83d\udccd Tissue: human large intestine\n\ud83d\udd2c Comparing: Plasma cell, B cell, T cell\n\ud83e\uddec Markers: IGLL5, IGLV6-57, JCHAIN, FAM92B, IGLC3, IGLC2, IGHV3-7, IGKC, TNFRSF17, IGHG1, AC026369.3, IGHV3-23, IGKV4-1, IGKV1-5, IGHA1\n\ud83e\udd16 Models: Turing, Tesla, Lovelace, Franklin\n\ud83d\udca1 Tip: For better performance, use model_preset='premium'\n============================================================\n\n\ud83c\udfb5 Movement I: Initial Analysis (Parallel Processing)\nModel (initial): google/gemini-2.5-flash [OK]\nModel (initial): x-ai/grok-4-fast [OK]\nModel (initial): moonshotai/kimi-k2-thinking [OK]\nModel (initial): deepseek/deepseek-v3.2 [OK]\n\n\u2705 Consensus reached! 100% agree on: Plasma cell\n\n\ud83c\udfb5 Movement III: Synthesis & Documentation\n  \ud83d\udcca Results saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\10_symphony_compare\\results\\python\\development\\20251201_233539\\outputs\\symphony_test.csv\nHTML report saved to C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\10_symphony_compare\\results\\python\\development\\20251201_233539\\outputs\\symphony_test_report.html\n  \ud83c\udfa8 Interactive report: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\10_symphony_compare\\results\\python\\development\\20251201_233539\\outputs\\symphony_test_report.html\n\n\ud83c\udfbc Symphony Complete!\n============================================================\n\ud83d\udcc8 Performance Summary:\n  \u2022 Models: 4 experts consulted\n  \u2022 Rounds: 1 total (1 initial + 0 discussion)\n  \u2022 Consensus: \u2705 Yes\n  \u2022 Winner: Plasma cell (confidence: 96.5%)\n\n\ud83d\udcca Detailed scores are available in the generated reports.\n\n--- Symphony Compare Results ---\n  Consensus: Plasma cell\n  Confidence: 96.5%\n\n[OK] Test PASSED\n    Duration: 38.67s\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\10_symphony_compare\\results\\python\\development\\20251201_233539\\logs\\test_log.txt\n",
      "stderr": ""
    },
    {
      "name": "11_report_generation",
      "status": "passed",
      "returncode": 0,
      "duration": 5.24,
      "stdout": "Console output logging enabled: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\11_report_generation\\results\\python\\development\\20251201_233623\\logs\\test_log.txt\n\n============================================================\n  CASSIA TEST: 11 - Report Generation (PIP INSTALL MODE)\n============================================================\n\nCASSIA Installation Info:\n  Version: 0.3.2\n  Is pip install: True\n\nConfiguration:\n  Provider: openrouter\n  Model: google/gemini-2.5-flash-lite\n  Tissue: large intestine\n  Species: human\nResults will be saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\11_report_generation\\results\\python\\development\\20251201_233623\n\n--- Test 1: Find existing batch results ---\n  No existing batch results found\n\n--- Test 3: Generate HTML report from data ---\n  Created sample data: 2 clusters\nHTML report generated: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\11_report_generation\\results\\python\\development\\20251201_233623\\outputs\\test_report_from_data.html\n  Generated: test_report_from_data.html\n  File size: 41.0 KB\n\n--- Test 4: Validate HTML content ---\n\n[OK] Test PASSED\n    Duration: 0.04s\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\11_report_generation\\results\\python\\development\\20251201_233623\\logs\\test_log.txt\n",
      "stderr": ""
    },
    {
      "name": "12_batch_with_reference",
      "status": "passed",
      "returncode": 0,
      "duration": 23.85,
      "stdout": "leted: 1 | Processing: 1 | Pending: 0\n\u001b[KActive: monocyte\n\u001b[4A\u001b[KCASSIA Batch Analysis \u2838\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591] 50%\n\u001b[KCompleted: 1 | Processing: 1 | Pending: 0\n\u001b[KActive: monocyte\n\u001b[4A\u001b[KCASSIA Batch Analysis \u283c\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591] 50%\n\u001b[KCompleted: 1 | Processing: 1 | Pending: 0\n\u001b[KActive: monocyte\n\u001b[4A\u001b[KCASSIA Batch Analysis \u2713\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588] 100%\n\u001b[KCompleted: 2 | Processing: 0 | Pending: 0\n\u001b[KActive: None\n\u001b[4A\u001b[KCASSIA Batch Analysis \u2713\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588] 100%\n\u001b[KCompleted: 2 | Processing: 0 | Pending: 0\n\u001b[KActive: None\n\u001b[K\n\u001b[?25h\nReference retrieval statistics:\n  - Used: 0\n  - Not needed: 2\n\nAll analyses completed. Results saved to 'C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\12_batch_with_reference\\results\\python\\development\\20251201_233629\\outputs\\batch_ref_results'.\nHTML report generated: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\12_batch_with_reference\\results\\python\\development\\20251201_233629\\outputs\\batch_ref_results_report.html\nThree files have been created:\n1. C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\12_batch_with_reference\\results\\python\\development\\20251201_233629\\outputs\\batch_ref_results_full.csv (full data CSV)\n2. C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\12_batch_with_reference\\results\\python\\development\\20251201_233629\\outputs\\batch_ref_results_summary.csv (summary data CSV)\n3. C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\12_batch_with_reference\\results\\python\\development\\20251201_233629\\outputs\\batch_ref_results_report.html (interactive HTML report)\n\nBatch with Reference Results:\n  Clusters annotated: 2/2\n  Reference column present: True\n\n[OK] Test PASSED\n    Duration: 18.46s\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\12_batch_with_reference\\results\\python\\development\\20251201_233629\\logs\\test_log.txt\n",
      "stderr": "C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\12_batch_with_reference\\test_batch_with_reference_install.py:63: DeprecationWarning: runCASSIA_batch_with_reference is deprecated. Use runCASSIA_batch(use_reference=True) instead.\n  CASSIA.runCASSIA_batch_with_reference(\n"
    },
    {
      "name": "12_scanpy_format",
      "status": "passed",
      "returncode": 0,
      "duration": 58.34,
      "stdout": "SIA Batch Analysis \u2834\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591] 88%\n\u001b[KCompleted: 7 | Processing: 1 | Pending: 0\n\u001b[KActive: FCGR3A+ Monocytes\n\u001b[4A\u001b[KCASSIA Batch Analysis \u2826\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591] 88%\n\u001b[KCompleted: 7 | Processing: 1 | Pending: 0\n\u001b[KActive: FCGR3A+ Monocytes\n\u001b[4A\u001b[KCASSIA Batch Analysis \u2713\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588] 100%\n\u001b[KCompleted: 8 | Processing: 0 | Pending: 0\n\u001b[KActive: None\n\u001b[4A\u001b[KCASSIA Batch Analysis \u2713\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588] 100%\n\u001b[KCompleted: 8 | Processing: 0 | Pending: 0\n\u001b[KActive: None\n\u001b[K\n\u001b[?25hAll analyses completed. Results saved to 'C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\12_scanpy_format\\results\\python\\installed\\20251201_233653\\outputs\\scanpy_batch_results'.\nHTML report generated: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\12_scanpy_format\\results\\python\\installed\\20251201_233653\\outputs\\scanpy_batch_results_report.html\nThree files have been created:\n1. C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\12_scanpy_format\\results\\python\\installed\\20251201_233653\\outputs\\scanpy_batch_results_full.csv (full data CSV)\n2. C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\12_scanpy_format\\results\\python\\installed\\20251201_233653\\outputs\\scanpy_batch_results_summary.csv (summary data CSV)\n3. C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\12_scanpy_format\\results\\python\\installed\\20251201_233653\\outputs\\scanpy_batch_results_report.html (interactive HTML report)\n\nBatch Results:\n  Clusters annotated: 8/8\n  Output files created:\n    - scanpy_batch_results_full.csv\n    - scanpy_batch_results_summary.csv\n\nDuration: 52.67s\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\12_scanpy_format\\results\\python\\installed\\20251201_233653\\logs\\test_log.txt\n\nResult: PASSED\n\n============================================================\n\n[OK] Test PASSED\n    Total duration: 52.68s\n",
      "stderr": ""
    },
    {
      "name": "13_call_llm",
      "status": "failed",
      "returncode": 1,
      "duration": 9.04,
      "stdout": "d32d68fed95f6ffc7c5311833a38f0e0e75e6376653b0b9e\nNone\nLoaded API keys from set_api_keys.py\nConsole output logging enabled: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\13_call_llm\\results\\python\\development\\20251201_233752\\logs\\test_log.txt\n\n============================================================\n  CASSIA TEST: 13 - call_llm Provider Testing (PIP INSTALL MODE)\n============================================================\n\nCASSIA Installation Info:\n  Version: 0.3.2\n  Is pip install: True\n\nConfiguration:\n  Provider: openrouter\n  Model: google/gemini-2.5-flash-lite\n  Tissue: large intestine\n  Species: human\nResults will be saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\13_call_llm\\results\\python\\development\\20251201_233752\n\n==================================================\nProvider: OpenAI\n  Model: gpt-4o\n==================================================\n  Status: API key found\n  Sending test prompt...\n  [OK] Response received (7 chars)\n  Response: success\n\n==================================================\nProvider: Anthropic\n  Model: claude-sonnet-4-5\n==================================================\n  Status: API key found\n  Sending test prompt...\n  [X] ERROR: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CVhKZA2Xr4kNds6Yrc9KG'}\n\n==================================================\nProvider: OpenRouter\n  Model: google/gemini-2.5-flash\n==================================================\n  Status: API key found\n  Sending test prompt...\n  [OK] Response received (7 chars)\n  Response: success\n\n==================================================\nSUMMARY\n==================================================\n  Passed:  2/3\n  Failed:  1/3\n  Skipped: 0/3\n\n[X] Test FAILED\n    Duration: 2.68s\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\13_call_llm\\results\\python\\development\\20251201_233752\\logs\\test_log.txt\n",
      "stderr": "[CASSIA ERROR] Authentication failed for anthropic. Please check your API key is valid. Set it with: CASSIA.set_api_key('anthropic', 'your-key')\nERROR:CASSIA.CASSIA.core.llm_utils:Authentication failed for anthropic. Please check your API key is valid. Set it with: CASSIA.set_api_key('anthropic', 'your-key')\n"
    },
    {
      "name": "14_input_validation",
      "status": "passed",
      "returncode": 0,
      "duration": 5.67,
      "stdout": "Console output logging enabled: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\14_input_validation\\results\\python\\development\\20251201_233800\\logs\\test_log.txt\n\n============================================================\n  CASSIA TEST: 14 - Input Validation (PIP INSTALL MODE)\n============================================================\n\nCASSIA Installation Info:\n  Version: 0.3.2\n  Is pip install: True\n\n==================================================\nTesting Marker List Validation\n==================================================\n  [OK] Valid list of strings\n  [OK] None raises error\n  [OK] Empty list raises error\n\n==================================================\nTesting Temperature Validation\n==================================================\n  [OK] Valid temperature (0)\n  [OK] Negative raises error\n\n==================================================\nTesting Provider Validation\n==================================================\n  [OK] Valid provider 'openai'\n  [OK] Valid provider 'anthropic'\n  [OK] Valid provider 'openrouter'\n  [OK] Unknown provider raises error\n\n==================================================\nTesting Model Validation\n==================================================\n  [OK] Valid model 'gpt-4'\n  [OK] None model raises error\n\n==================================================\nTEST SUMMARY\n==================================================\nTests passed: 11\nTests failed: 0\nTotal tests:  11\n\n*** ALL TESTS PASSED ***\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\14_input_validation\\results\\python\\development\\20251201_233800\\logs\\test_log.txt\n",
      "stderr": "D:\\anaconda3\\Lib\\site-packages\\CASSIA\\core\\validation.py:128: UserWarning: Only 3 markers provided. Recommended minimum is 50 markers for reliable cell type annotation. Results may be less accurate with fewer markers.\n  warnings.warn(\n"
    },
    {
      "name": "15_cassia_pipeline",
      "status": "passed",
      "returncode": 0,
      "duration": 37.42,
      "stdout": "l combined results saved to .\\CASSIA_large_intestine_human_20251201_233807\\01_annotation_results\\pipeline_test_FINAL_RESULTS.csv\n\n=== Generating main reports ===\nHTML report generated: .\\CASSIA_large_intestine_human_20251201_233807\\02_reports\\pipeline_test_report.html\n\u2713 Generated report: .\\CASSIA_large_intestine_human_20251201_233807\\02_reports\\pipeline_test_report.html\nCleaned up redundant batch report: pipeline_test_report.html\n\u2713 Main reports generated\n\n=== Analyzing low-scoring clusters ===\nFound 0 clusters with scores below 75:\n[]\n\n=== Organizing intermediate files ===\nMoved pipeline_test_full.csv to intermediate_files folder\nMoved pipeline_test_summary.csv to intermediate_files folder\nMoved pipeline_test_sorted_full.csv to intermediate_files folder\nMoved pipeline_test_scored.csv to intermediate_files folder\nMoved pipeline_test_merged.csv to intermediate_files folder\n\u2713 Intermediate files organized\nRemoved original file: pipeline_test_full.csv\nRemoved original file: pipeline_test_summary.csv\n\n=== Cell type analysis pipeline completed ===\nAll results have been organized in the '.\\CASSIA_large_intestine_human_20251201_233807' folder:\n  \ud83d\udcca MAIN RESULTS: .\\CASSIA_large_intestine_human_20251201_233807\\01_annotation_results\\pipeline_test_FINAL_RESULTS.csv\n  \ud83d\udcc1 HTML Reports: .\\CASSIA_large_intestine_human_20251201_233807\\02_reports\n  \ud83d\udd0d Annotation Boost Results: .\\CASSIA_large_intestine_human_20251201_233807\\03_boost_analysis\n  \ud83d\udcc2 Intermediate Files: .\\CASSIA_large_intestine_human_20251201_233807\\01_annotation_results\\intermediate_files\n\n\u2705 Your final results are in: pipeline_test_FINAL_RESULTS.csv\n\nPipeline output directory: CASSIA_large_intestine_human_20251201_233807\n\nValidating output structure:\n  [OK] 01_annotation_results exists\n  [WARN] FINAL_RESULTS.csv not found\n\n[OK] Test PASSED\n    Duration: 30.93s\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\15_cassia_pipeline\\results\\python\\development\\20251201_233807\\logs\\test_log.txt\n",
      "stderr": ""
    }
  ]
}