{
  "timestamp": "2025-12-01T19:57:19.763374",
  "mode": "installed",
  "language": "python",
  "version": "0.3.1",
  "location": "D:\\anaconda3\\Lib\\site-packages",
  "total_duration": 147.85,
  "summary": {
    "passed": 2,
    "failed": 14,
    "errors": 0,
    "skipped": 0
  },
  "results": [
    {
      "name": "01_single_annotation",
      "status": "failed",
      "returncode": 1,
      "duration": 15.8,
      "stdout": "Console output logging enabled: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\01_single_annotation\\results\\python\\development\\20251201_195457\\logs\\test_log.txt\n\n============================================================\n  CASSIA TEST: 01 - Single Cluster Annotation (PIP INSTALL MODE)\n============================================================\n\nCASSIA Installation Info:\n  Version: 0.3.1\n  Location: D:\\anaconda3\\Lib\\site-packages\\CASSIA\\__init__.py\n  Is pip install: True\n\nConfiguration:\n  Provider: openrouter\n  Model: google/gemini-2.5-flash-lite\n  Tissue: large intestine\n  Species: human\n\nTesting single annotation for: plasma cell\nUsing top 30 markers\nLoaded 30 markers\nResults will be saved to: {'base': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/01_single_annotation/results/python/development/20251201_195457'), 'logs': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/01_single_annotation/results/python/development/20251201_195457/logs'), 'outputs': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/01_single_annotation/results/python/development/20251201_195457/outputs')}\n\nRunning runCASSIA (pip install mode)...\n\nAnnotation Result:\n  Main cell type: B cells\n  Sub cell types: ['Plasma Cells', 'Plasmablasts', 'Memory B Cells (IgA-switched)']\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\01_single_annotation\\results\\python\\development\\20251201_195457\\logs\\test_log.txt\n",
      "stderr": " simplified method\")\nTraceback (most recent call last):\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\01_single_annotation\\test_single_annotation_install.py\", line 160, in <module>\n    success = main()\n              ^^^^^^\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\01_single_annotation\\test_single_annotation_install.py\", line 152, in main\n    success = run_single_annotation_test()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\01_single_annotation\\test_single_annotation_install.py\", line 129, in run_single_annotation_test\n    save_test_metadata(results_dir, metadata)\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\shared\\python\\result_manager.py\", line 227, in save_test_metadata\n    metadata_path = results_dir / \"test_metadata.json\"\n                    ~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~\nTypeError: unsupported operand type(s) for /: 'dict' and 'str'\n"
    },
    {
      "name": "02_batch_annotation",
      "status": "failed",
      "returncode": 1,
      "duration": 6.55,
      "stdout": "Console output logging enabled: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\02_batch_annotation\\results\\python\\development\\20251201_195513\\logs\\test_log.txt\n\n============================================================\n  CASSIA TEST: 02 - Batch Annotation (PIP INSTALL MODE)\n============================================================\n\nCASSIA Installation Info:\n  Version: 0.3.1\n  Is pip install: True\n\nConfiguration:\n  Provider: openrouter\n  Model: google/gemini-2.5-flash-lite\n  Tissue: large intestine\n  Species: human\n\nTesting batch annotation for 2 clusters:\n  - monocyte\n  - plasma cell\n\nLoaded marker data: (2, 2)\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\02_batch_annotation\\results\\python\\development\\20251201_195513\\logs\\test_log.txt\n",
      "stderr": "\\annotation_boost\\super_annotation_boost.py:46: UserWarning: GSEApy not available - pathway enrichment will use simplified method\n  warnings.warn(\"GSEApy not available - pathway enrichment will use simplified method\")\nTraceback (most recent call last):\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\02_batch_annotation\\test_batch_annotation_install.py\", line 161, in <module>\n    success = main()\n              ^^^^^^\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\02_batch_annotation\\test_batch_annotation_install.py\", line 153, in main\n    success = run_batch_annotation_test()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\02_batch_annotation\\test_batch_annotation_install.py\", line 73, in run_batch_annotation_test\n    output_name = str(results_dir / \"batch_results\")\n                      ~~~~~~~~~~~~^~~~~~~~~~~~~~~~~\nTypeError: unsupported operand type(s) for /: 'dict' and 'str'\n"
    },
    {
      "name": "03_validator_comparison",
      "status": "failed",
      "returncode": 1,
      "duration": 5.8,
      "stdout": "Console output logging enabled: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\03_validator_comparison\\results\\python\\development\\20251201_195519\\logs\\test_log.txt\n\n============================================================\n  CASSIA TEST: 03 - Validator Comparison (PIP INSTALL MODE)\n============================================================\n\nCASSIA Installation Info:\n  Version: 0.3.1\n  Is pip install: True\n\nConfiguration:\n  Provider: openrouter\n  Model: google/gemini-2.5-flash-lite\n  Tissue: large intestine\n  Species: human\n\nComparing validators on 6 clusters\nResults will be saved to: {'base': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/03_validator_comparison/results/python/development/20251201_195519'), 'logs': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/03_validator_comparison/results/python/development/20251201_195519/logs'), 'outputs': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/03_validator_comparison/results/python/development/20251201_195519/outputs')}\n\n========================================\nTesting v0 validator (strict)\n========================================\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\03_validator_comparison\\results\\python\\development\\20251201_195519\\logs\\test_log.txt\n",
      "stderr": "erWarning: GSEApy not available - pathway enrichment will use simplified method\n  warnings.warn(\"GSEApy not available - pathway enrichment will use simplified method\")\nTraceback (most recent call last):\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\03_validator_comparison\\test_validator_comparison_install.py\", line 177, in <module>\n    success = main()\n              ^^^^^^\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\03_validator_comparison\\test_validator_comparison_install.py\", line 169, in main\n    success = run_validator_comparison_test()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\03_validator_comparison\\test_validator_comparison_install.py\", line 83, in run_validator_comparison_test\n    output_name = str(results_dir / f\"results_{validator}\")\n                      ~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~\nTypeError: unsupported operand type(s) for /: 'dict' and 'str'\n"
    },
    {
      "name": "04_quality_scoring",
      "status": "failed",
      "returncode": 1,
      "duration": 6.02,
      "stdout": "Console output logging enabled: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\04_quality_scoring\\results\\python\\development\\20251201_195525\\logs\\test_log.txt\n\n============================================================\n  CASSIA TEST: 04 - Quality Scoring (PIP INSTALL MODE)\n============================================================\n\nCASSIA Installation Info:\n  Version: 0.3.1\n  Is pip install: True\n\nConfiguration:\n  Provider: openrouter\n  Model: google/gemini-2.5-flash-lite\n  Tissue: large intestine\n  Species: human\nResults will be saved to: {'base': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/04_quality_scoring/results/python/development/20251201_195525'), 'logs': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/04_quality_scoring/results/python/development/20251201_195525/logs'), 'outputs': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/04_quality_scoring/results/python/development/20251201_195525/outputs')}\n\nNo existing batch results found. Running batch annotation first...\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\04_quality_scoring\\results\\python\\development\\20251201_195525\\logs\\test_log.txt\n",
      "stderr": "annotation_boost\\super_annotation_boost.py:46: UserWarning: GSEApy not available - pathway enrichment will use simplified method\n  warnings.warn(\"GSEApy not available - pathway enrichment will use simplified method\")\nTraceback (most recent call last):\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\04_quality_scoring\\test_quality_scoring_install.py\", line 207, in <module>\n    success = main()\n              ^^^^^^\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\04_quality_scoring\\test_quality_scoring_install.py\", line 199, in main\n    success = run_quality_scoring_test()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\04_quality_scoring\\test_quality_scoring_install.py\", line 83, in run_quality_scoring_test\n    batch_output = str(results_dir / \"batch_for_scoring\")\n                       ~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~\nTypeError: unsupported operand type(s) for /: 'dict' and 'str'\n"
    },
    {
      "name": "05_model_settings",
      "status": "failed",
      "returncode": 1,
      "duration": 5.64,
      "stdout": "ettings\\results\\python\\development\\20251201_195530\\logs\\test_log.txt\n\n============================================================\n  CASSIA TEST: 05 - Model Settings (PIP INSTALL MODE)\n============================================================\n\nCASSIA Installation Info:\n  Version: 0.3.1\n  Is pip install: True\n\nConfiguration:\n  Provider: openrouter\n  Model: google/gemini-2.5-flash-lite\n  Tissue: large intestine\n  Species: human\nResults will be saved to: {'base': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/05_model_settings/results/python/development/20251201_195530'), 'logs': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/05_model_settings/results/python/development/20251201_195530/logs'), 'outputs': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/05_model_settings/results/python/development/20251201_195530/outputs')}\n\n========================================\nTesting Tier Shortcuts\n========================================\n  [OK] 'best' + 'openai' -> 'gpt-5.1'\n  [OK] 'balanced' + 'openai' -> 'gpt-4o'\n  [OK] 'fast' + 'openai' -> 'gpt-5-mini'\n  [OK] 'best' + 'anthropic' -> 'claude-opus-4-5'\n  [OK] 'balanced' + 'anthropic' -> 'claude-sonnet-4-5'\n  [OK] 'fast' + 'anthropic' -> 'claude-haiku-4-5'\n  [OK] 'best' + 'openrouter' -> 'anthropic/claude-sonnet-4.5'\n  [OK] 'fast' + 'openrouter' -> 'google/gemini-2.5-flash'\n\nTier tests: 8/8 passed\n\n========================================\nTesting Practical Annotation with OpenRouter\n========================================\n  Model: google/gemini-2.5-flash\n  Provider: openrouter\n  Running annotation...\n  [X] ERROR: CASSIA Validation Error: Invalid type for marker list. Expected list of strings or comma-separated string, got DataFrame.\n  Parameter: marker_list\n  Received: 'DataFrame'\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\05_model_settings\\results\\python\\development\\20251201_195530\\logs\\test_log.txt\n",
      "stderr": "pathway enrichment will use simplified method\")\nTraceback (most recent call last):\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\05_model_settings\\test_model_settings_install.py\", line 205, in <module>\n    success = main()\n              ^^^^^^\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\05_model_settings\\test_model_settings_install.py\", line 197, in main\n    success = run_model_settings_test()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\05_model_settings\\test_model_settings_install.py\", line 181, in run_model_settings_test\n    save_test_metadata(results_dir, metadata)\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\shared\\python\\result_manager.py\", line 227, in save_test_metadata\n    metadata_path = results_dir / \"test_metadata.json\"\n                    ~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~\nTypeError: unsupported operand type(s) for /: 'dict' and 'str'\n"
    },
    {
      "name": "06_annotation_boost",
      "status": "failed",
      "returncode": 1,
      "duration": 6.17,
      "stdout": "Console output logging enabled: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\06_annotation_boost\\results\\python\\development\\20251201_195537\\logs\\test_log.txt\n\n============================================================\n  CASSIA TEST: 06 - Annotation Boost (PIP INSTALL MODE)\n============================================================\n\nCASSIA Installation Info:\n  Version: 0.3.1\n  Is pip install: True\n\nConfiguration:\n  Provider: openrouter\n  Model: google/gemini-2.5-flash-lite\n  Tissue: large intestine\n  Species: human\nResults will be saved to: {'base': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/06_annotation_boost/results/python/development/20251201_195537'), 'logs': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/06_annotation_boost/results/python/development/20251201_195537/logs'), 'outputs': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/06_annotation_boost/results/python/development/20251201_195537/outputs')}\n\nNo existing batch results found. Running batch annotation first...\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\06_annotation_boost\\results\\python\\development\\20251201_195537\\logs\\test_log.txt\n",
      "stderr": "ation_boost\\super_annotation_boost.py:46: UserWarning: GSEApy not available - pathway enrichment will use simplified method\n  warnings.warn(\"GSEApy not available - pathway enrichment will use simplified method\")\nTraceback (most recent call last):\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\06_annotation_boost\\test_annotation_boost_install.py\", line 225, in <module>\n    success = main()\n              ^^^^^^\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\06_annotation_boost\\test_annotation_boost_install.py\", line 217, in main\n    success = run_annotation_boost_test()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\06_annotation_boost\\test_annotation_boost_install.py\", line 90, in run_annotation_boost_test\n    batch_output = str(results_dir / \"batch_for_boost\")\n                       ~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~\nTypeError: unsupported operand type(s) for /: 'dict' and 'str'\n"
    },
    {
      "name": "07_merging_annotation",
      "status": "failed",
      "returncode": 1,
      "duration": 5.83,
      "stdout": "Console output logging enabled: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\07_merging_annotation\\results\\python\\development\\20251201_195542\\logs\\test_log.txt\n\n============================================================\n  CASSIA TEST: 07 - Merging Annotation (PIP INSTALL MODE)\n============================================================\n\nCASSIA Installation Info:\n  Version: 0.3.1\n  Is pip install: True\n\nConfiguration:\n  Provider: openrouter\n  Model: google/gemini-2.5-flash-lite\n  Tissue: large intestine\n  Species: human\nResults will be saved to: {'base': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/07_merging_annotation/results/python/development/20251201_195542'), 'logs': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/07_merging_annotation/results/python/development/20251201_195542/logs'), 'outputs': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/07_merging_annotation/results/python/development/20251201_195542/outputs')}\n\nNo existing batch results found. Running batch annotation first...\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\07_merging_annotation\\results\\python\\development\\20251201_195542\\logs\\test_log.txt\n",
      "stderr": "annotation_boost.py:46: UserWarning: GSEApy not available - pathway enrichment will use simplified method\n  warnings.warn(\"GSEApy not available - pathway enrichment will use simplified method\")\nTraceback (most recent call last):\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\07_merging_annotation\\test_merging_annotation_install.py\", line 215, in <module>\n    success = main()\n              ^^^^^^\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\07_merging_annotation\\test_merging_annotation_install.py\", line 207, in main\n    success = run_merging_annotation_test()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\07_merging_annotation\\test_merging_annotation_install.py\", line 84, in run_merging_annotation_test\n    batch_output = str(results_dir / \"batch_for_merge\")\n                       ~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~\nTypeError: unsupported operand type(s) for /: 'dict' and 'str'\n"
    },
    {
      "name": "08_uncertainty_quantification",
      "status": "failed",
      "returncode": 1,
      "duration": 6.71,
      "stdout": "",
      "stderr": "agents\\annotation_boost\\super_annotation_boost.py:46: UserWarning: GSEApy not available - pathway enrichment will use simplified method\n  warnings.warn(\"GSEApy not available - pathway enrichment will use simplified method\")\nTraceback (most recent call last):\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\08_uncertainty_quantification\\test_uncertainty_quantification_install.py\", line 172, in <module>\n    success = main()\n              ^^^^^^\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\08_uncertainty_quantification\\test_uncertainty_quantification_install.py\", line 161, in main\n    logging_context = setup_logging(results_dir)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\shared\\python\\result_manager.py\", line 86, in setup_logging\n    log_path = logs_dir / log_filename\n               ~~~~~~~~~^~~~~~~~~~~~~~\nTypeError: unsupported operand type(s) for /: 'dict' and 'str'\n"
    },
    {
      "name": "09_subclustering",
      "status": "failed",
      "returncode": 1,
      "duration": 5.66,
      "stdout": "Console output logging enabled: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\09_subclustering\\results\\python\\development\\20251201_195555\\logs\\test_log.txt\n\n============================================================\n  CASSIA TEST: 09 - Subclustering (PIP INSTALL MODE)\n============================================================\n\nCASSIA Installation Info:\n  Version: 0.3.1\n  Is pip install: True\n\nConfiguration:\n  Provider: openrouter\n  Model: google/gemini-2.5-flash-lite\n  Tissue: large intestine\n  Species: human\nResults will be saved to: {'base': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/09_subclustering/results/python/development/20251201_195555'), 'logs': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/09_subclustering/results/python/development/20251201_195555/logs'), 'outputs': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/09_subclustering/results/python/development/20251201_195555/outputs')}\n\n--- Test: runCASSIA_subclusters ---\n  Major cluster: human large intestine immune cells\n  Subclusters to annotate: 3\n  Model: google/gemini-2.5-flash-lite\n  Provider: openrouter\n\nError: unsupported operand type(s) for /: 'dict' and 'str'\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\09_subclustering\\results\\python\\development\\20251201_195555\\logs\\test_log.txt\n",
      "stderr": "ror: unsupported operand type(s) for /: 'dict' and 'str'\nTraceback (most recent call last):\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\09_subclustering\\test_subclustering_install.py\", line 165, in <module>\n    success = main()\n              ^^^^^^\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\09_subclustering\\test_subclustering_install.py\", line 157, in main\n    success = run_subclustering_test()\n              ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\09_subclustering\\test_subclustering_install.py\", line 135, in run_subclustering_test\n    save_test_metadata(results_dir, metadata)\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\shared\\python\\result_manager.py\", line 227, in save_test_metadata\n    metadata_path = results_dir / \"test_metadata.json\"\n                    ~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~\nTypeError: unsupported operand type(s) for /: 'dict' and 'str'\n"
    },
    {
      "name": "10_symphony_compare",
      "status": "failed",
      "returncode": 1,
      "duration": 5.74,
      "stdout": "Console output logging enabled: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\10_symphony_compare\\results\\python\\development\\20251201_195601\\logs\\test_log.txt\n\n============================================================\n  CASSIA TEST: 10 - Symphony Compare (PIP INSTALL MODE)\n============================================================\n\nCASSIA Installation Info:\n  Version: 0.3.1\n  Is pip install: True\n\nConfiguration:\n  Provider: openrouter\n  Model: google/gemini-2.5-flash-lite\n  Tissue: large intestine\n  Species: human\nResults will be saved to: {'base': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/10_symphony_compare/results/python/development/20251201_195601'), 'logs': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/10_symphony_compare/results/python/development/20251201_195601/logs'), 'outputs': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/10_symphony_compare/results/python/development/20251201_195601/outputs')}\n\n--- Test: symphonyCompare ---\n  Tissue: large intestine\n  Species: human\n  Cell types to compare: Plasma cell, B cell, T cell\n  Model preset: budget\n\nError: [WinError 123] The filename, directory name, or volume label syntax is incorrect: \"{'base': WindowsPath('C:\"\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\10_symphony_compare\\results\\python\\development\\20251201_195601\\logs\\test_log.txt\n",
      "stderr": "t: \"{'base': WindowsPath('C:\"\nTraceback (most recent call last):\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\10_symphony_compare\\test_symphony_compare_install.py\", line 169, in <module>\n    success = main()\n              ^^^^^^\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\10_symphony_compare\\test_symphony_compare_install.py\", line 161, in main\n    success = run_symphony_compare_test()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\10_symphony_compare\\test_symphony_compare_install.py\", line 139, in run_symphony_compare_test\n    save_test_metadata(results_dir, metadata)\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\shared\\python\\result_manager.py\", line 227, in save_test_metadata\n    metadata_path = results_dir / \"test_metadata.json\"\n                    ~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~\nTypeError: unsupported operand type(s) for /: 'dict' and 'str'\n"
    },
    {
      "name": "11_report_generation",
      "status": "failed",
      "returncode": 1,
      "duration": 6.12,
      "stdout": "Console output logging enabled: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\11_report_generation\\results\\python\\development\\20251201_195607\\logs\\test_log.txt\n\n============================================================\n  CASSIA TEST: 11 - Report Generation (PIP INSTALL MODE)\n============================================================\n\nCASSIA Installation Info:\n  Version: 0.3.1\n  Is pip install: True\n\nConfiguration:\n  Provider: openrouter\n  Model: google/gemini-2.5-flash-lite\n  Tissue: large intestine\n  Species: human\nResults will be saved to: {'base': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/11_report_generation/results/python/development/20251201_195607'), 'logs': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/11_report_generation/results/python/development/20251201_195607/logs'), 'outputs': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/11_report_generation/results/python/development/20251201_195607/outputs')}\n\n--- Test 1: Find existing batch results ---\n  No existing batch results found\n\n--- Test 3: Generate HTML report from data ---\n  Created sample data: 3 clusters\n\nError: unsupported operand type(s) for /: 'dict' and 'str'\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\11_report_generation\\results\\python\\development\\20251201_195607\\logs\\test_log.txt\n",
      "stderr": " /: 'dict' and 'str'\nTraceback (most recent call last):\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\11_report_generation\\test_report_generation_install.py\", line 236, in <module>\n    success = main()\n              ^^^^^^\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\11_report_generation\\test_report_generation_install.py\", line 228, in main\n    success = run_report_generation_test()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\11_report_generation\\test_report_generation_install.py\", line 208, in run_report_generation_test\n    save_test_metadata(results_dir, metadata)\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\shared\\python\\result_manager.py\", line 227, in save_test_metadata\n    metadata_path = results_dir / \"test_metadata.json\"\n                    ~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~\nTypeError: unsupported operand type(s) for /: 'dict' and 'str'\n"
    },
    {
      "name": "12_batch_with_reference",
      "status": "failed",
      "returncode": 1,
      "duration": 5.99,
      "stdout": "Console output logging enabled: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\12_batch_with_reference\\results\\python\\development\\20251201_195613\\logs\\test_log.txt\n\n============================================================\n  CASSIA TEST: 12 - Batch Annotation with Reference (PIP INSTALL MODE)\n============================================================\n\nCASSIA Installation Info:\n  Version: 0.3.1\n  Is pip install: True\n\nConfiguration:\n  Provider: openrouter\n  Model: google/gemini-2.5-flash-lite\n  Tissue: large intestine\n  Species: human\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\12_batch_with_reference\\results\\python\\development\\20251201_195613\\logs\\test_log.txt\n",
      "stderr": "46: UserWarning: GSEApy not available - pathway enrichment will use simplified method\n  warnings.warn(\"GSEApy not available - pathway enrichment will use simplified method\")\nTraceback (most recent call last):\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\12_batch_with_reference\\test_batch_with_reference_install.py\", line 140, in <module>\n    success = main()\n              ^^^^^^\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\12_batch_with_reference\\test_batch_with_reference_install.py\", line 132, in main\n    success = run_batch_with_reference_test()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\12_batch_with_reference\\test_batch_with_reference_install.py\", line 55, in run_batch_with_reference_test\n    output_name = str(results_dir / \"batch_ref_results\")\n                      ~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~\nTypeError: unsupported operand type(s) for /: 'dict' and 'str'\n"
    },
    {
      "name": "12_scanpy_format",
      "status": "passed",
      "returncode": 0,
      "duration": 44.85,
      "stdout": "\u001b[KCASSIA Batch Analysis \u2838\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591] 88%\n\u001b[KCompleted: 7 | Processing: 1 | Pending: 0\n\u001b[KActive: Megakaryocytes\n\u001b[4A\u001b[KCASSIA Batch Analysis \u283c\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591] 88%\n\u001b[KCompleted: 7 | Processing: 1 | Pending: 0\n\u001b[KActive: Megakaryocytes\n\u001b[4A\u001b[KCASSIA Batch Analysis \u2713\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588] 100%\n\u001b[KCompleted: 8 | Processing: 0 | Pending: 0\n\u001b[KActive: None\n\u001b[4A\u001b[KCASSIA Batch Analysis \u2713\n\u001b[K[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588] 100%\n\u001b[KCompleted: 8 | Processing: 0 | Pending: 0\n\u001b[KActive: None\n\u001b[K\n\u001b[?25hAll analyses completed. Results saved to 'C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\12_scanpy_format\\results\\python\\installed\\20251201_195619\\outputs\\scanpy_batch_results'.\nHTML report generated: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\12_scanpy_format\\results\\python\\installed\\20251201_195619\\outputs\\scanpy_batch_results_report.html\nThree files have been created:\n1. C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\12_scanpy_format\\results\\python\\installed\\20251201_195619\\outputs\\scanpy_batch_results_full.csv (full data CSV)\n2. C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\12_scanpy_format\\results\\python\\installed\\20251201_195619\\outputs\\scanpy_batch_results_summary.csv (summary data CSV)\n3. C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\12_scanpy_format\\results\\python\\installed\\20251201_195619\\outputs\\scanpy_batch_results_report.html (interactive HTML report)\n\nBatch Results:\n  Clusters annotated: 8/8\n  Output files created:\n    - scanpy_batch_results_full.csv\n    - scanpy_batch_results_summary.csv\n\nDuration: 38.30s\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\12_scanpy_format\\results\\python\\installed\\20251201_195619\\logs\\test_log.txt\n\nResult: PASSED\n\n============================================================\n\n[OK] Test PASSED\n    Total duration: 38.31s\n",
      "stderr": "D:\\anaconda3\\Lib\\site-packages\\CASSIA\\agents\\annotation_boost\\super_annotation_boost.py:46: UserWarning: GSEApy not available - pathway enrichment will use simplified method\n  warnings.warn(\"GSEApy not available - pathway enrichment will use simplified method\")\n"
    },
    {
      "name": "13_call_llm",
      "status": "failed",
      "returncode": 1,
      "duration": 9.61,
      "stdout": "=================================\n  CASSIA TEST: 13 - call_llm Provider Testing (PIP INSTALL MODE)\n============================================================\n\nCASSIA Installation Info:\n  Version: 0.3.1\n  Is pip install: True\n\nConfiguration:\n  Provider: openrouter\n  Model: google/gemini-2.5-flash-lite\n  Tissue: large intestine\n  Species: human\nResults will be saved to: {'base': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/13_call_llm/results/python/development/20251201_195704'), 'logs': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/13_call_llm/results/python/development/20251201_195704/logs'), 'outputs': WindowsPath('C:/Users/ellio/OneDrive - UW-Madison/CASSIA_enjoy/CASSIA/Test/13_call_llm/results/python/development/20251201_195704/outputs')}\n\n==================================================\nProvider: OpenAI\n  Model: gpt-4o\n==================================================\n  Status: API key found\n  Sending test prompt...\n  [OK] Response received (7 chars)\n  Response: success\n\n==================================================\nProvider: Anthropic\n  Model: claude-sonnet-4-5\n==================================================\n  Status: API key found\n  Sending test prompt...\n  [X] ERROR: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CVh2ie5XGQEkJvzK2HLzc'}\n\n==================================================\nProvider: OpenRouter\n  Model: google/gemini-2.5-flash\n==================================================\n  Status: API key found\n  Sending test prompt...\n  [OK] Response received (7 chars)\n  Response: success\n\n==================================================\nSUMMARY\n==================================================\n  Passed:  2/3\n  Failed:  1/3\n  Skipped: 0/3\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\13_call_llm\\results\\python\\development\\20251201_195704\\logs\\test_log.txt\n",
      "stderr": "thropic. Please check your API key is valid. Set it with: CASSIA.set_api_key('anthropic', 'your-key')\nTraceback (most recent call last):\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\13_call_llm\\test_call_llm_install.py\", line 202, in <module>\n    success = main()\n              ^^^^^^\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\13_call_llm\\test_call_llm_install.py\", line 194, in main\n    success = run_call_llm_test()\n              ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\13_call_llm\\test_call_llm_install.py\", line 176, in run_call_llm_test\n    save_test_metadata(results_dir, metadata)\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\shared\\python\\result_manager.py\", line 227, in save_test_metadata\n    metadata_path = results_dir / \"test_metadata.json\"\n                    ~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~\nTypeError: unsupported operand type(s) for /: 'dict' and 'str'\n"
    },
    {
      "name": "14_input_validation",
      "status": "passed",
      "returncode": 0,
      "duration": 6.16,
      "stdout": "Console output logging enabled: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\14_input_validation\\results\\python\\development\\20251201_195713\\logs\\test_log.txt\n\n============================================================\n  CASSIA TEST: 14 - Input Validation (PIP INSTALL MODE)\n============================================================\n\nCASSIA Installation Info:\n  Version: 0.3.1\n  Is pip install: True\n\n==================================================\nTesting Marker List Validation\n==================================================\n  [OK] Valid list of strings\n  [OK] None raises error\n  [OK] Empty list raises error\n\n==================================================\nTesting Temperature Validation\n==================================================\n  [OK] Valid temperature (0)\n  [OK] Negative raises error\n\n==================================================\nTesting Provider Validation\n==================================================\n  [OK] Valid provider 'openai'\n  [OK] Valid provider 'anthropic'\n  [OK] Valid provider 'openrouter'\n  [OK] Unknown provider raises error\n\n==================================================\nTesting Model Validation\n==================================================\n  [OK] Valid model 'gpt-4'\n  [OK] None model raises error\n\n==================================================\nTEST SUMMARY\n==================================================\nTests passed: 11\nTests failed: 0\nTotal tests:  11\n\n*** ALL TESTS PASSED ***\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\14_input_validation\\results\\python\\development\\20251201_195713\\logs\\test_log.txt\n",
      "stderr": "D:\\anaconda3\\Lib\\site-packages\\CASSIA\\agents\\annotation_boost\\super_annotation_boost.py:46: UserWarning: GSEApy not available - pathway enrichment will use simplified method\n  warnings.warn(\"GSEApy not available - pathway enrichment will use simplified method\")\nD:\\anaconda3\\Lib\\site-packages\\CASSIA\\core\\validation.py:128: UserWarning: Only 3 markers provided. Recommended minimum is 50 markers for reliable cell type annotation. Results may be less accurate with fewer markers.\n  warnings.warn(\n"
    },
    {
      "name": "15_cassia_pipeline",
      "status": "failed",
      "returncode": 1,
      "duration": 5.18,
      "stdout": "Console output logging enabled: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\15_cassia_pipeline\\results\\python\\development\\20251201_195719\\logs\\test_log.txt\n\n============================================================\n  CASSIA TEST: 15 - CASSIA Pipeline (PIP INSTALL MODE)\n============================================================\n\nCASSIA Installation Info:\n  Version: 0.3.1\n  Is pip install: True\n\nConfiguration:\n  Provider: openrouter\n  Model: google/gemini-2.5-flash-lite\n  Tissue: large intestine\n  Species: human\n\nTesting pipeline for 2 clusters:\n  - monocyte\n  - plasma cell\n\nLoaded marker data: (2, 2)\n\nConsole output saved to: C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\15_cassia_pipeline\\results\\python\\development\\20251201_195719\\logs\\test_log.txt\n",
      "stderr": "IA\\agents\\annotation_boost\\super_annotation_boost.py:46: UserWarning: GSEApy not available - pathway enrichment will use simplified method\n  warnings.warn(\"GSEApy not available - pathway enrichment will use simplified method\")\nTraceback (most recent call last):\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\15_cassia_pipeline\\test_cassia_pipeline_install.py\", line 193, in <module>\n    success = main()\n              ^^^^^^\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\15_cassia_pipeline\\test_cassia_pipeline_install.py\", line 184, in main\n    success = run_cassia_pipeline_test()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\ellio\\OneDrive - UW-Madison\\CASSIA_enjoy\\CASSIA\\Test\\15_cassia_pipeline\\test_cassia_pipeline_install.py\", line 74, in run_cassia_pipeline_test\n    output_name = str(results_dir / \"pipeline_test\")\n                      ~~~~~~~~~~~~^~~~~~~~~~~~~~~~~\nTypeError: unsupported operand type(s) for /: 'dict' and 'str'\n"
    }
  ]
}