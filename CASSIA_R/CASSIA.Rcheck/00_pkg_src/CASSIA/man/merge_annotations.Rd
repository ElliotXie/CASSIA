% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/annotator.R
\name{merge_annotations}
\alias{merge_annotations}
\title{Merge Cell Cluster Annotations}
\usage{
merge_annotations(
  csv_path,
  output_path = NULL,
  provider = "openai",
  model = NULL,
  api_key = NULL,
  additional_context = NULL,
  batch_size = 20L,
  detail_level = "broad"
)
}
\arguments{
\item{csv_path}{Path to the CSV file containing cluster annotations}

\item{output_path}{Path to save the results (if NULL, returns DataFrame without saving)}

\item{provider}{LLM provider to use ("openai", "anthropic", or "openrouter") (default: "openai")}

\item{model}{Specific model to use (if NULL, uses default for provider)}

\item{api_key}{API key for the provider (if NULL, gets from environment)}

\item{additional_context}{Optional domain-specific context to help with annotation}

\item{batch_size}{Number of clusters to process in each LLM call (default: 20)}

\item{detail_level}{Level of detail for groupings: "broad", "detailed", or "very_detailed" (default: "broad")}
}
\value{
A data frame with original annotations and suggested cell groupings
}
\description{
Agent function that reads a CSV file with cell cluster annotations and merges/groups them
using an LLM to suggest biologically meaningful groupings.
}
\examples{
\dontrun{
# Basic usage - merge annotations with broad groupings
result <- merge_annotations("annotation_results.csv", "merged_results.csv")

# Use detailed groupings
result <- merge_annotations(
  csv_path = "annotation_results.csv",
  output_path = "merged_detailed.csv",
  detail_level = "detailed",
  provider = "anthropic"
)
}

}
