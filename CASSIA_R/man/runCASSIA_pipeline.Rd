% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/annotator.R
\name{runCASSIA_pipeline}
\alias{runCASSIA_pipeline}
\title{Run Complete Cell Analysis Pipeline}
\usage{
runCASSIA_pipeline(
  output_file_name,
  tissue,
  species,
  marker,
  max_workers = 4,
  overall_provider = "openrouter",
  annotation_model = NULL,
  annotation_provider = NULL,
  score_model = NULL,
  score_provider = NULL,
  annotationboost_model = NULL,
  annotationboost_provider = NULL,
  score_threshold = 75,
  additional_info = NULL,
  max_retries = 1,
  do_merge_annotations = TRUE,
  merge_model = NULL,
  merge_provider = NULL,
  conversation_history_mode = "final",
  search_strategy = "breadth",
  report_style = "per_iteration",
  ranking_method = "avg_log2FC",
  ascending = NULL,
  validator_involvement = "v1",
  output_dir = NULL,
  validate_api_keys_before_start = TRUE
)
}
\arguments{
\item{output_file_name}{Base name for output files}

\item{tissue}{Tissue type being analyzed}

\item{species}{Species being analyzed}

\item{marker}{Marker data (data frame or file path)}

\item{max_workers}{Maximum number of concurrent workers (default: 4)}

\item{overall_provider}{Main provider for all pipeline stages. One of "openai",
"anthropic", or "openrouter". Sets default models for all stages.
Individual model parameters can override specific stages. (default: "openrouter")}

\item{annotation_model}{Override annotation model. If NULL, uses overall_provider's default.}

\item{annotation_provider}{Override provider for annotation only.}

\item{score_model}{Override scoring model. If NULL, uses overall_provider's default.}

\item{score_provider}{Override provider for scoring only.}

\item{annotationboost_model}{Override boost model. If NULL, uses overall_provider's default.}

\item{annotationboost_provider}{Override provider for boost only.}

\item{score_threshold}{Threshold for identifying low-scoring clusters (default: 75)}

\item{additional_info}{Additional information for analysis (default: NULL)}

\item{max_retries}{Maximum number of retries for failed analyses (default: 1)}

\item{do_merge_annotations}{Whether to run the merging annotations step (default: TRUE)}

\item{merge_model}{Override merge model. If NULL, uses overall_provider's default.}

\item{merge_provider}{Override provider for merging only.}

\item{conversation_history_mode}{Mode for extracting conversation history ("full", "final", or "none") (default: "final")}

\item{search_strategy}{Search strategy for annotation boost - "breadth" (test multiple hypotheses) or "depth" (one hypothesis at a time) (default: "breadth")}

\item{report_style}{Style of report for annotation boost ("per_iteration" or "total_summary") (default: "per_iteration")}

\item{ranking_method}{Method to rank genes ('avg_log2FC', 'p_val_adj', 'pct_diff', 'Score') (default: "avg_log2FC")}

\item{ascending}{Sort direction (NULL uses default for each method) (default: NULL)}

\item{validator_involvement}{Validator involvement level: "v0" for high involvement (stronger validation), "v1" for moderate involvement (default: "v1")}

\item{output_dir}{Directory where the output folder will be created. If NULL, uses current working directory. (default: NULL)}

\item{validate_api_keys_before_start}{Logical. If TRUE (default), validates the API key before starting.
Fails fast with clear error message if the key is invalid.}
}
\value{
None. Creates output files and generates reports.
}
\description{
Run Complete Cell Analysis Pipeline
}
