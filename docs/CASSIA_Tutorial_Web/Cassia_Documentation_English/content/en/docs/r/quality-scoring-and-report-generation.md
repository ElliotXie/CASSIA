---
title: Quality Scoring
---


Quality scoring helps evaluate the reliability of cell type annotations. CASSIA provides automated scoring functionality through the `runCASSIA_score_batch` function, which analyzes the reasoning and evidence behind each annotation.

## Running Quality Scoring

### Basic Usage
```R
runCASSIA_score_batch(
    input_file = "my_annotation_full.csv",
    output_file = "my_annotation_scored.csv",
    max_workers = 4,
    model = "openai/gpt-5.1", # Recommended for accurate scoring
    provider = "openrouter"
)
```

### Parameter Details

- **`input_file`** (character string): Path to the full annotation results CSV file (generated by `runCASSIA_batch`).
- **`output_file`** (character string): The name for the output scored results CSV file.
- **`max_workers`** (integer): Number of parallel scoring threads.
- **`model`** (character string): The LLM used for quality scoring. `openai/gpt-5.1` or `anthropic/claude-4.5-sonnet` is highly recommended for best accuracy.
- **`provider`** (character string): The API provider for the model (e.g., "openrouter").

### Output Format
The scored output file contains:
- Original annotation data
- Quality scores (0-100)
- Confidence metrics
- Detailed reasoning for scores

### Interpreting Scores

- **90-100**: High confidence, strong evidence
- **76-89**: Good confidence, adequate evidence
- **<75**: Low confidence, need to run through Annotation Boost Agent and Compare Agent

# Report Generation

Generate detailed reports from your analysis. This step typically follows after quality scoring.

The score report includes all outputs from CASSIA, including structured outputs, conversation histories, and quality scores.

### Batch Reports from Scored Results

```R
runCASSIA_generate_score_report(
  csv_path = "my_annotation_scored.csv",
  output_name = "CASSIA_reports_summary"
)
```

### Parameter Details

- **`csv_path`** (character string): Path to the scored results CSV file (e.g., "my_annotation_scored.csv").
- **`output_name`** (character string): The base name for the generated report files.

_Generates individual reports and an index page from `scored_results.csv`._
