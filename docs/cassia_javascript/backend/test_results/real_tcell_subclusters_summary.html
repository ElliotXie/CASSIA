<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Subclustering Report - real_tcell_subclusters</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 20px; 
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 { 
            color: #2c3e50; 
            text-align: center;
            margin-bottom: 10px;
        }
        .meta {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 14px;
        }
        table { 
            border-collapse: collapse; 
            width: 100%; 
            margin-top: 20px;
            background-color: white;
        }
        th { 
            background-color: #3498db; 
            color: white; 
            padding: 12px; 
            text-align: left;
            font-weight: bold;
        }
        td { 
            padding: 10px; 
            border-bottom: 1px solid #ddd;
            vertical-align: top;
        }
        tr:hover {
            background-color: #f8f9fa;
        }
        .cluster-col { 
            width: 10%; 
            font-weight: bold;
            color: #2c3e50;
        }
        .annotation-col { 
            width: 25%; 
        }
        .main-type {
            font-weight: bold;
            color: #27ae60;
            margin-bottom: 3px;
        }
        .sub-type {
            color: #7f8c8d;
            font-size: 0.9em;
            font-style: italic;
        }
        .marker-col { 
            width: 25%; 
        }
        .reason-col { 
            width: 40%; 
            font-size: 0.95em;
            line-height: 1.4;
        }
        .toggle-link {
            color: #3498db;
            text-decoration: none;
            font-size: 0.9em;
            cursor: pointer;
        }
        .toggle-link:hover {
            text-decoration: underline;
        }
        .collapsible {
            display: none;
            margin-top: 5px;
            padding: 8px;
            background-color: #ecf0f1;
            border-radius: 4px;
            font-size: 0.9em;
            line-height: 1.6;
        }
        .no-data {
            color: #bdc3c7;
            font-style: italic;
        }
    </style>
    <script>
    function toggleMarkers(id) {
        var el = document.getElementById(id);
        var link = event.target;
        if (el.style.display === 'none' || el.style.display === '') {
            el.style.display = 'block';
            link.textContent = 'Hide markers';
        } else {
            el.style.display = 'none';
            link.textContent = 'Show markers';
        }
    }
    </script>
</head>
<body>
    <div class="container">
        <h1>Subclustering Annotation Report</h1>
        <div class="meta">
            <b>Model:</b> real_tcell_subclusters &nbsp; | &nbsp; 
            <b>Generated:</b> 7/12/2025, 8:20:08 PM &nbsp; | &nbsp;
            <b>Total Subclusters:</b> 4
        </div>
        <table>
            <tr>
                <th>Cluster</th>
                <th>Annotation<br><span style="font-weight:normal;font-size:12px">(Main / Subtype)</span></th>
                <th>Top Markers</th>
                <th>Reasoning</th>
            </tr>
            
        <tr>
            <td class="cluster-col">1</td>
            <td class="annotation-col">
                <div class="main-type">Naive CD4+ T cells</div>
                <div class="sub-type">Naive CD8+ T cells</div>
            </td>
            <td class="marker-col">
                
                <a href="javascript:void(0)" onclick="toggleMarkers('marker_1')" class="toggle-link">Show markers</a>
                <div id="marker_1" class="collapsible">CCR7, LEF1, TCF7, SELL, IL7R</div>
                
            </td>
            <td class="reason-col">This set of markers is highly characteristic of naive T cells. CCR7 and SELL (CD62L) are crucial for homing to lymph nodes. LEF1 and TCF7 are transcription factors associated with T cell quiescence and naive state maintenance. IL7R (CD127) is important for T cell survival and development, and is highly expressed on naive T cells.</td>
        </tr>
        <tr>
            <td class="cluster-col">2</td>
            <td class="annotation-col">
                <div class="main-type">Central Memory CD4+ T cells</div>
                <div class="sub-type">Central Memory CD8+ T cells</div>
            </td>
            <td class="marker-col">
                
                <a href="javascript:void(0)" onclick="toggleMarkers('marker_2')" class="toggle-link">Show markers</a>
                <div id="marker_2" class="collapsible">IL7R, CCR7, CD44, CD62L, LCK</div>
                
            </td>
            <td class="reason-col">This combination points towards central memory T cells. Like naive cells, central memory T cells express CCR7 and CD62L, allowing them to recirculate through lymph nodes. However, the presence of CD44 (a general activation marker, but also highly expressed on memory cells) alongside IL7R suggests a memory phenotype. LCK is a key signaling molecule in T cells, and its inclusion here, without other strong effector markers, is consistent with a memory population that retains signaling capacity for rapid recall. The co-expression of CCR7 and CD62L distinguishes central memory from effector memory T cells.</td>
        </tr>
        <tr>
            <td class="cluster-col">3</td>
            <td class="annotation-col">
                <div class="main-type">Cytotoxic CD8+ T cells</div>
                <div class="sub-type">Effector CD8+ T cells</div>
            </td>
            <td class="marker-col">
                
                <a href="javascript:void(0)" onclick="toggleMarkers('marker_3')" class="toggle-link">Show markers</a>
                <div id="marker_3" class="collapsible">CD8A, CD8B, GZMA, GZMB, PRF1</div>
                
            </td>
            <td class="reason-col">This is a classic signature of cytotoxic T lymphocytes (CTLs). CD8A and CD8B are components of the CD8 co-receptor, defining CD8+ T cells. GZMA (granzyme A), GZMB (granzyme B), and PRF1 (perforin) are key effector molecules used by CTLs to induce apoptosis in target cells. This set strongly indicates an active cytotoxic function.</td>
        </tr>
        <tr>
            <td class="cluster-col">4</td>
            <td class="annotation-col">
                <div class="main-type">Regulatory T cells (Tregs)</div>
                <div class="sub-type">Activated Regulatory T cells</div>
            </td>
            <td class="marker-col">
                
                <a href="javascript:void(0)" onclick="toggleMarkers('marker_4')" class="toggle-link">Show markers</a>
                <div id="marker_4" class="collapsible">FOXP3, IL2RA, CTLA4, TIGIT, ICOS</div>
                
            </td>
            <td class="reason-col">This marker set is highly indicative of regulatory T cells (Tregs). FOXP3 is the master transcription factor for Tregs. IL2RA (CD25) is the alpha chain of the IL-2 receptor, constitutively expressed at high levels on Tregs. CTLA4, TIGIT, and ICOS are immune checkpoint molecules and co-stimulatory receptors, respectively, that are highly expressed on Tregs and play crucial roles in their suppressive function.</td>
        </tr>
        </table>
    </div>
</body>
</html>