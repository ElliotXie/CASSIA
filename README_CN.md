<div align="center">

<img src="CASSIA_python/logo2.png" width="200" style="vertical-align: middle;" />

[English](README.md) | [ä¸­æ–‡](README_CN.md)

</div>

**CASSIA** æ˜¯ä¸€ä¸ªåŸºäºmulti-agentå¤šæ™ºèƒ½ä½“çš„å¤§å‹è¯­è¨€æ¨¡å‹å·¥å…·ï¼Œç”¨äºå¿«é€Ÿï¼Œå‡†ç¡®ï¼Œç®€å•åœ°è¿›è¡Œå•ç»†èƒçš„å¯è§£é‡Šåˆ†ç¾¤æ³¨é‡Šã€‚

ğŸŒ [ä½“éªŒ CASSIA ç½‘é¡µç•Œé¢](https://cassiacell.com/) - ä»…æä¾›æœ€åŸºç¡€çš„CASSIAåŠŸèƒ½

ğŸ“ [R å·¥ä½œæµç¤ºä¾‹](https://github.com/ElliotXie/CASSIA/blob/main/CASSIA_example/CASSIA_tutorial_final.Rmd)

ğŸ“š [å®Œæ•´ R æ–‡æ¡£/è‹±æ–‡ç‰ˆ](https://documentationeng.vercel.app/)

ğŸ“š [å®Œæ•´ R æ–‡æ¡£/ä¸­æ–‡ç‰ˆ](https://cassia-documentation-cn.vercel.app/)

ğŸ“ [Python å·¥ä½œæµç¤ºä¾‹](https://github.com/ElliotXie/CASSIA/blob/main/CASSIA_example/CASSIA_python_tutorial.ipynb)

ğŸ¤– [æ¨¡å‹æ³¨é‡Šèƒ½åŠ›æ’è¡Œæ¦œ](https://sc-llm-benchmark.com/methods/cassia)



## ğŸ“° æ›´æ–°

> **2025-05-05**  
> ğŸ“Š **CASSIAæ³¨é‡ŠåŸºå‡†æµ‹è¯•å¹³å°ç°å·²ä¸Šçº¿ï¼**  
> æœ¬æ¬¡æ›´æ–°æ¨å‡ºäº†ä¸€ä¸ªå…¨æ–°çš„åŸºå‡†æµ‹è¯•å¹³å°ï¼Œç”¨äºè¯„ä¼°ä¸åŒå¤§å‹è¯­è¨€æ¨¡å‹åœ¨å•ç»†èƒæ³¨é‡Šä»»åŠ¡ä¸­çš„è¡¨ç°ä¸æˆæœ¬ã€‚  
> **LLaMA4 Maverickã€Gemini 2.5 Flash å’Œ DeepSeekV3 æ˜¯ç›®å‰æ€§èƒ½ä¸æˆæœ¬æœ€å‡è¡¡çš„æ¨¡å‹ï¼Œä¸”å‡ ä¹å…è´¹ä½¿ç”¨ï¼**  
> ğŸ”§ æ–°å¢"è‡ªåŠ¨åˆå¹¶åŠŸèƒ½"ï¼Œå¯ç»Ÿä¸€è¾“å‡ºä¸åŒå±‚çº§çš„ç»†èƒç±»å‹æ ‡ç­¾ï¼Œå¤§å¹…ç®€åŒ–å­èšç±»åˆ†ææµç¨‹ã€‚  
> ğŸ› ä¿®å¤äº†æ³¨é‡Šå¢å¼ºä»£ç†ä¸­çš„ä¸€ä¸ªé”™è¯¯ï¼Œæé«˜äº†ä½è´¨é‡æ³¨é‡Šçš„ä¼˜åŒ–æ•ˆæœã€‚

> **2025-04-19**  
> ğŸ”„ **CASSIA æ·»åŠ äº†é‡è¯•æœºåˆ¶å’Œä¼˜åŒ–çš„æŠ¥å‘Šå­˜å‚¨ï¼**  
> æœ€æ–°æ›´æ–°å¼•å…¥äº†å¤±è´¥ä»»åŠ¡çš„è‡ªåŠ¨é‡è¯•æœºåˆ¶ï¼Œå¹¶ä¼˜åŒ–äº†æŠ¥å‘Šçš„å­˜å‚¨æ–¹å¼ï¼Œä½¿è®¿é—®å’Œç®¡ç†æ›´åŠ ä¾¿æ·ã€‚  
> ğŸ¨ **å®ŒæˆCASSIAæ ‡å¿—è®¾è®¡ï¼**

> **2025-04-17**  
> ğŸš€ **CASSIA ç°åœ¨æ”¯æŒè‡ªåŠ¨å•ç»†èƒæ³¨é‡ŠåŸºå‡†æµ‹è¯•ï¼**  
> æœ€æ–°æ›´æ–°å¼•å…¥äº†ä¸€ä¸ªæ–°åŠŸèƒ½ï¼Œå¯ä»¥å®ç°å®Œå…¨è‡ªåŠ¨åŒ–çš„å•ç»†èƒæ³¨é‡ŠåŸºå‡†æµ‹è¯•ã€‚ç»“æœç”± LLMs è‡ªåŠ¨è¯„ä¼°ï¼Œæ€§èƒ½ä¸äººç±»ä¸“å®¶ç›¸å½“ã€‚  
> **ä¸“é—¨çš„åŸºå‡†æµ‹è¯•ç½‘ç«™å³å°†æ¨å‡ºâ€”æ•¬è¯·æœŸå¾…ï¼**


## ğŸ—ï¸ å®‰è£… (R è¯­è¨€ï¼ŒPythonæ•™ç¨‹è¯·è®¿é—®[è¿™é‡Œ](https://github.com/ElliotXie/CASSIA/blob/main/CASSIA_example/CASSIA_python_tutorial.ipynb))

```R
# å®‰è£…ä¾èµ–
install.packages("devtools")
install.packages("reticulate")

# å®‰è£… CASSIA
devtools::install_github("ElliotXie/CASSIA/CASSIA_R")
```

***æ³¨æ„ï¼šå¦‚æœç¯å¢ƒç¬¬ä¸€æ¬¡æ²¡æœ‰æ­£ç¡®è®¾ç½®ï¼Œè¯·é‡å¯Rå¹¶è¿è¡Œä»¥ä¸‹ä»£ç ***

```R
library(CASSIA)
setup_cassia_env()
```

### ğŸ”‘ è®¾ç½® API å¯†é’¥

è·å–APIå¯†é’¥å¤§çº¦éœ€è¦3åˆ†é’Ÿæ—¶é—´ã€‚

æˆ‘ä»¬å»ºè®®ä» OpenRouter å¼€å§‹ï¼Œå› ä¸ºå®ƒå¯ä»¥é€šè¿‡å•ä¸ª API å¯†é’¥è®¿é—®å¤§å¤šæ•°æ¨¡å‹ã€‚

```R
# å¯¹äº OpenRouter
setLLMApiKey("your_openrouter_api_key", provider = "openrouter", persist = TRUE)

# å¯¹äº OpenAI
setLLMApiKey("your_openai_api_key", provider = "openai", persist = TRUE)

# å¯¹äº Anthropic
setLLMApiKey("your_anthropic_api_key", provider = "anthropic", persist = TRUE)
```


- **API æä¾›å•†æŒ‡å—:**
	- [å¦‚ä½•è·å– OpenAI API å¯†é’¥](https://platform.openai.com/api-keys)
	- [å¦‚ä½•è·å– Anthropic API å¯†é’¥](https://console.anthropic.com/settings/keys)
	- [å¦‚ä½•è·å– OpenRouter API å¯†é’¥](https://openrouter.ai/settings/keys)
    - [OpenAI API æ–‡æ¡£](https://beta.openai.com/docs/)
    - [Anthropic API æ–‡æ¡£](https://docs.anthropic.com/)
    - [OpenRouter API æ–‡æ¡£](https://openrouter.ai/docs/quick-start)


## ğŸ§¬ ç¤ºä¾‹æ•°æ®

CASSIA åŒ…å«ä¸¤ç§æ ¼å¼çš„ç¤ºä¾‹æ ‡è®°æ•°æ®ï¼š
```R
# åŠ è½½ç¤ºä¾‹æ•°æ®
markers_unprocessed <- loadExampleMarkers(processed = FALSE)  # Seurat findallmarkers è¾“å‡ºæ–‡ä»¶
markers_processed <- loadExampleMarkers(processed = TRUE)     # å¤„ç†åæ ¼å¼
```

## âš™ï¸ æµç¨‹ä½¿ç”¨

```R
# é»˜è®¤æä¾›å•†è®¾ç½®ä¸ºOpenRouter

runCASSIA_pipeline(
    output_file_name,     # è¾“å‡ºæ–‡ä»¶çš„åŸºæœ¬åç§°
    tissue,               # ç»„ç»‡ç±»å‹ï¼ˆä¾‹å¦‚ï¼Œ"brain"ï¼‰
    species,              # ç‰©ç§ï¼ˆä¾‹å¦‚ï¼Œ"human"ï¼‰
    marker,               # æ¥è‡ª findallmarker çš„æ ‡è®°æ•°æ®
    max_workers = 4       # å¹¶è¡Œå·¥ä½œè€…æ•°é‡
)
```

## ğŸ¤– æ”¯æŒçš„æ¨¡å‹

æ‚¨å¯ä»¥ä¸ºæ³¨é‡Šå’Œè¯„åˆ†é€‰æ‹©ä»»ä½•æ¨¡å‹ã€‚ä¸‹é¢åˆ—å‡ºäº†ä¸€äº›ç»å…¸æ¨¡å‹ã€‚OpenRouteræ”¯æŒå½“å‰å¤§å¤šæ•°æµè¡Œçš„æ¨¡å‹ï¼Œå°½ç®¡æœ‰äº›æ¨¡å‹åœ¨CASSIAè®ºæ–‡ä¸­å°šæœªè¿›è¡Œå…¨é¢åŸºå‡†æµ‹è¯• â€” æ¬¢è¿å°è¯•ã€‚


### OpenRouter
- `google/gemini-2.5-flash-preview`: é«˜é€Ÿç‡é™åˆ¶è®¿é—®Claudeï¼ˆæœ€æ¨èï¼‰
- `deepseek/deepseek-chat-v3-0324`: å‡ ä¹å…è´¹ä¸”å¯ä¸GPT-4oç›¸åª²ç¾ï¼ˆæ¨èï¼‰
- `deepseek/deepseek-chat-v3-0324:free`: å…è´¹ä½†é€Ÿåº¦è¾ƒæ…¢
s
### OpenAI
- `gpt-4o`: ç”¨äºæ–‡ç« çš„åŸºå‡†æµ‹è¯•

### Anthropic
- `claude-3-7-sonnet-latest`: æœ€æ–°çš„é«˜æ€§èƒ½æ¨¡å‹

## ğŸ“¤ è¾“å‡º

æµç¨‹ç”Ÿæˆå››ä¸ªå…³é”®æ–‡ä»¶ï¼š
1. åˆå§‹æ³¨é‡Šç»“æœ
2. å¸¦æ¨ç†çš„è´¨é‡è¯„åˆ†
3. æ‘˜è¦æŠ¥å‘Š
4. æ³¨é‡Šå¢å¼ºæŠ¥å‘Š

## ğŸ§° æ•…éšœæ’é™¤

### èº«ä»½éªŒè¯ï¼ˆé”™è¯¯ 401ï¼‰
```R
# æ£€æŸ¥ API å¯†é’¥æ˜¯å¦æ­£ç¡®è®¾ç½®
key <- Sys.getenv("ANTHROPIC_API_KEY")
print(key)  # è¾“å‡ºç»“æœä¸åº”è¯¥ä¸ºç©º

# å¦‚æœéœ€è¦ï¼Œé‡ç½® API å¯†é’¥
setLLMApiKey("your_api_key", provider = "anthropic", persist = TRUE)
```

### æ–‡ä»¶é”™è¯¯
- å¿…è¦æ—¶ä½¿ç”¨ç»å¯¹è·¯å¾„
- æ£€æŸ¥æ–‡ä»¶æƒé™
- ç¡®ä¿æ–‡ä»¶æœªåœ¨å…¶ä»–ç¨‹åºä¸­æ‰“å¼€

### æœ€ä½³å®è·µ
- ä¿æŒAPIå¯†é’¥å®‰å…¨
- ç»´æŒè¶³å¤Ÿçš„APIé¢åº¦


æ³¨æ„ï¼šæ­¤ README ä»…æ¶µç›–äº†åŸºæœ¬çš„ CASSIA åŠŸèƒ½ã€‚æœ‰å…³åŒ…æ‹¬é«˜çº§åŠŸèƒ½å’Œè¯¦ç»†ç¤ºä¾‹åœ¨å†…çš„å®Œæ•´æ•™ç¨‹ï¼Œè¯·è®¿é—®ï¼š
[CASSIA å®Œæ•´æ•™ç¨‹](https://cassia-documentation-cn.vercel.app/)ã€‚

## ğŸ“– å¼•ç”¨

ğŸ“– [é˜…è¯»æˆ‘ä»¬çš„é¢„å°æœ¬ (v2, æœ€æ–°ç‰ˆ)](https://www.biorxiv.org/content/10.1101/2024.12.04.626476v2)
 
ğŸ“– [åŸå§‹é¢„å°æœ¬ (v1, å†å²ç‰ˆæœ¬)](https://www.biorxiv.org/content/10.1101/2024.12.04.626476v1)

CASSIA: a multi-agent large language model for reference-free, interpretable, and automated cell annotation of single-cell RNA-sequencing data  
Elliot Xie, Lingxin Cheng, Jack Shireman, Yujia Cai, Jihua Liu, Chitrasen Mohanty, Mahua Dey, Christina Kendziorski  
bioRxiv 2024.12.04.626476; doi: https://doi.org/10.1101/2024.12.04.626476

## ğŸ“¬ è”ç³»æ–¹å¼

å¦‚æœ‰ä»»ä½•é—®é¢˜æˆ–éœ€è¦å¸®åŠ©ï¼Œæ¬¢è¿éšæ—¶é‚®ä»¶è”ç³»æˆ‘ä»¬ï¼Œæˆ‘ä»¬ä¸€å®šä¼šå°½åŠ›ååŠ©ï¼š
**xie227@wisc.edu** 
å¦‚æœæ‚¨è§‰å¾—æˆ‘ä»¬çš„é¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç•™ä¸‹ä¸€ä¸ªâ­æˆ–è€…å°†é¡¹ç›®åˆ†äº«ç»™ä½ çš„æœ‹å‹ï¼Œæ„Ÿæ¿€ä¸å°½ï¼
